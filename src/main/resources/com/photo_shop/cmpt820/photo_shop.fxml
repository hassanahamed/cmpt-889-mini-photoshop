<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.photo_shop.cmpt820.ui.MainController">
    <top>
        <MenuBar>
            <Menu text="File">
                <MenuItem onAction="#handleOpenFile" text="Open File"/>
                <MenuItem onAction="#handleExit" text="Exit"/>
            </Menu>
            <Menu text="Core Operations">
                <MenuItem onAction="#handleGrayscale" text="Grayscale"/>
                <MenuItem onAction="#handleOrderedDithering" text="Ordered Dithering"/>
                <MenuItem onAction="#handleAutoLevel" text="Auto Level"/>
                <MenuItem onAction="#handleHuffman" text="Huffman"/>
            </Menu>
            <Menu text="Optional Operations">
                <MenuItem onAction="#handleSobelEdgeDetection" text="Sobel Edge Detection"/>
            </Menu>
        </MenuBar>
    </top>
    <center>
        <SplitPane dividerPositions="0.75">
            <items>
                <AnchorPane fx:id="imageManipulationPane">
                    <ImageView fx:id="originalImageView" preserveRatio="true" smooth="true" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"/>
                </AnchorPane>
                <VBox>
                    <TitledPane text="Image Operations" expanded="true">
                        <VBox spacing="10">
                            <Button text="Grayscale" onAction="#handleGrayscale"/>
                            <Button text="Ordered Dithering" onAction="#handleOrderedDithering"/>
                            <Button text="Auto Level" onAction="#handleAutoLevel"/>
                            <Button text="Huffman" onAction="#handleHuffman"/>
                            <Label fx:id="entropyLabel" text="Entropy: "/>
                            <Label fx:id="huffmanLabel" text="Average Huffman Length: "/>
                            <Button text="Reset" onAction="#handleReset"/>
                        </VBox>
                    </TitledPane>
                    <TitledPane text="Optional Operations" expanded="true">
                        <VBox spacing="10">
                            <Button text="Sobel Edge Detection" onAction="#handleSobelEdgeDetection"/>
                            <Label text="Brightness Adjustment:"/>
                            <Slider fx:id="brightnessSlider" min="-100" max="100" value="0" />
                            <Label text="Contrast Enhancement:"/>
                            <Slider fx:id="contrastSlider" min="-100" max="100" value="0" />
                        </VBox>
                    </TitledPane>
                    <TitledPane fx:id="originalImageTitledPane" text="Original Image" expanded="true" collapsible="true">
                        <AnchorPane>
                            <ImageView fx:id="staticOriginalImageView" preserveRatio="true" smooth="true" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"/>
                        </AnchorPane>
                    </TitledPane>
                </VBox>
            </items>
        </SplitPane>
    </center>
    <bottom>
        <Label fx:id="statusLabel" text="Status: Ready"/>
    </bottom>
</BorderPane>
